title: 一个使用的分页方法
categories: PHP##分类
tags: [PHP,分页]##标签，多标签格式为 [tag1,tag2,...]
keywords: PHP,分页##文章关键词，多关键词格式为 keyword1,keywords2,...
description: 个人关于分页的一个封装，感觉非常使用的PHP分页方法
date: 2015/11/16 14:24:25 
---
``` php
/**
 * $count 总页数
 * $page 当前页号
 * $num 显示的页码数
 **/
function pagebar($count, $page, $num) {
	$num = min ( $count, $num ); // 处理显示的页码数大于总页数的情况
	if ($page > $count || $page < 1)
		return; // 处理非法页号的情况
	$end = $page + floor ( $num / 2 ) <= $count ? $page + floor ( $num / 2 ) : $count; // 计算结束页号
	$start = $end - $num + 1; // 计算开始页号
	if ($start < 1) { // 处理开始页号小于1的情况
		$end -= $start - 1;
		$start = 1;
	}
	for($i = $start; $i <= $end; $i ++) { // 输出分页条，请自行添加链接样式
		if ($i == $page)
			echo "[$i]";
		else
			echo " $i ";
	}
	echo "($page)<br />";
}
``` 
输出的结果：

>14 15 16 17 [18] 19 20 21 22 (18)